{"ast":null,"code":"import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".styles_Editext__button__6H8n_ {\\n  border-radius: 1px;\\n  outline: none;\\n  padding: 0.6em;\\n  min-width: 30px;\\n  height: 100%;\\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\\n  border-style: solid;\\n  border-width: 1px;\\n}\\n.styles_Editext__button__6H8n_:hover {\\n  cursor: pointer;\\n  background-color: rgba(241, 241, 241, 1.00)\\n}\\n.styles_Editext__input__1534X {\\n  width: 100%;\\n  border: 1px solid rgb(212, 212, 212);\\n  padding: 0.6em;\\n  outline: none;\\n}\\n.styles_Editext__main_container__2Y-IL {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.styles_Editext__editing_container__3yvUv {\\n  display: flex;\\n  flex: 1;\\n  align-items: center;\\n}\\n.styles_Editext__view_container__2l2kB {\\n  display: flex;\\n  align-items: center;\\n}\\n.styles_Editext__buttons_container__1kphL {\\n  display: flex;\\n}\\n.styles_Editext__buttons_before_aligned__NnoWq {\\n  margin-right: 5px;\\n}\\n.styles_Editext__buttons_after_aligned__1nlcG {\\n  margin-left: 5px;\\n}\\n.styles_Editext__validation_message__3B-OU {\\n  font-weight: 500;\\n  color: crimson;\\n  font-size: .7em;\\n  margin-top: 3px;\\n}\\n.styles_Editext__cancel_button__259hb {\\n  color: crimson;\\n}\\n.styles_Editext__cancel_button__259hb:before {\\n  content: '\\\\2715';\\n  margin: 3px;\\n}\\n.styles_Editext__edit_button__hthOZ {\\n  color: #000;\\n}\\n.styles_Editext__edit_button__hthOZ:before {\\n  content: '\\\\270E';\\n  margin: 3px;\\n}\\n.styles_Editext__save_button__3WN6q {\\n  color: darkgreen;\\n  margin-right: 3px;\\n}\\n.styles_Editext__save_button__3WN6q:before {\\n  content: '\\\\2713';\\n  margin: 3px;\\n}\\n.styles_Editext__hide_default_icons__AV_7m:before {\\n  content: none;\\n  margin: 0;\\n}\\n.styles_Editext__hint__2QU2S {\\n  font-weight: 500;\\n  color: lightslategray;\\n  font-size: .7em;\\n  margin-top: 3px;\\n  text-align: left;\\n}\\n\";\nvar styles = {\n  \"Editext__button\": \"styles_Editext__button__6H8n_\",\n  \"Editext__input\": \"styles_Editext__input__1534X\",\n  \"Editext__main_container\": \"styles_Editext__main_container__2Y-IL\",\n  \"Editext__editing_container\": \"styles_Editext__editing_container__3yvUv\",\n  \"Editext__view_container\": \"styles_Editext__view_container__2l2kB\",\n  \"Editext__buttons_container\": \"styles_Editext__buttons_container__1kphL\",\n  \"Editext__buttons_before_aligned\": \"styles_Editext__buttons_before_aligned__NnoWq\",\n  \"Editext__buttons_after_aligned\": \"styles_Editext__buttons_after_aligned__1nlcG\",\n  \"Editext__validation_message\": \"styles_Editext__validation_message__3B-OU\",\n  \"Editext__cancel_button\": \"styles_Editext__cancel_button__259hb\",\n  \"Editext__edit_button\": \"styles_Editext__edit_button__hthOZ\",\n  \"Editext__save_button\": \"styles_Editext__save_button__3WN6q\",\n  \"Editext__hide_default_icons\": \"styles_Editext__hide_default_icons__AV_7m\",\n  \"Editext__hint\": \"styles_Editext__hint__2QU2S\"\n};\nstyleInject(css);\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg) && arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\n\nvar EdiText =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EdiText, _Component);\n\n  function EdiText(props) {\n    var _this;\n\n    _classCallCheck(this, EdiText);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EdiText).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInputChange\", function (e) {\n      _this.setState({\n        valid: true,\n        value: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", function () {\n      _this.setState({\n        valid: true,\n        editing: false,\n        value: _this.state.savedValue || _this.props.value\n      }, function () {\n        return _this.props.onCancel(_this.state.value);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_activateEditMode\", function () {\n      _this.setState({\n        editing: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSave\", function () {\n      var _this$props = _this.props,\n          onSave = _this$props.onSave,\n          validation = _this$props.validation,\n          onValidationFail = _this$props.onValidationFail;\n      var isValid = validation(_this.state.value);\n\n      if (!isValid) {\n        return _this.setState({\n          valid: false\n        }, function () {\n          onValidationFail && onValidationFail(_this.state.value);\n        });\n      }\n\n      _this.setState({\n        editing: false,\n        savedValue: _this.state.value\n      }, function () {\n        return onSave(_this.state.savedValue);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderEditingMode\", function () {\n      var _this$props2 = _this.props,\n          saveButtonClassName = _this$props2.saveButtonClassName,\n          saveButtonContent = _this$props2.saveButtonContent,\n          cancelButtonClassName = _this$props2.cancelButtonClassName,\n          editContainerClassName = _this$props2.editContainerClassName,\n          viewContainerClassName = _this$props2.viewContainerClassName,\n          cancelButtonContent = _this$props2.cancelButtonContent,\n          onValidationFail = _this$props2.onValidationFail,\n          validationMessage = _this$props2.validationMessage,\n          hint = _this$props2.hint,\n          hideIcons = _this$props2.hideIcons,\n          buttonsAlign = _this$props2.buttonsAlign;\n\n      var inputElem = _this._renderInput(); // calculate save button classes\n\n\n      var saveButtonDefaultClasses = classnames(\"\".concat(styles.Editext__button), \"\".concat(styles.Editext__save_button), hideIcons && \"\".concat(styles.Editext__hide_default_icons));\n      var saveButtonClass = saveButtonClassName || saveButtonDefaultClasses; // calculate cancel button classes\n\n      var cancelButtonDefaultClasses = classnames(\"\".concat(styles.Editext__button), \"\".concat(styles.Editext__cancel_button), hideIcons && \"\".concat(styles.Editext__hide_default_icons));\n      var cancelButtonClass = cancelButtonClassName || cancelButtonDefaultClasses;\n      var editContainerClass = styles.Editext__editing_container;\n      if (editContainerClassName) editContainerClass = editContainerClassName;\n      if (viewContainerClassName) editContainerClass = viewContainerClassName;\n      var buttonsContainerClass = classnames(styles.Editext__buttons_container, buttonsAlign === 'before' && \"\".concat(styles.Editext__buttons_before_aligned), buttonsAlign === 'after' && \"\".concat(styles.Editext__buttons_after_aligned));\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        className: editContainerClass\n      }, buttonsAlign === 'after' && inputElem, React.createElement(\"div\", {\n        className: buttonsContainerClass\n      }, React.createElement(\"button\", {\n        ref: _this.saveButton,\n        type: \"button\",\n        className: saveButtonClass,\n        onClick: _this._onSave\n      }, saveButtonContent), React.createElement(\"button\", {\n        ref: _this.cancelButton,\n        type: \"button\",\n        className: cancelButtonClass,\n        onClick: _this._onCancel\n      }, cancelButtonContent)), buttonsAlign === 'before' && inputElem), !_this.state.valid && !onValidationFail && React.createElement(\"div\", {\n        className: styles.Editext__validation_message\n      }, validationMessage), hint && React.createElement(\"div\", {\n        className: styles.Editext__hint\n      }, hint));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderViewMode\", function () {\n      var _this$props3 = _this.props,\n          viewProps = _this$props3.viewProps,\n          editButtonClassName = _this$props3.editButtonClassName,\n          editButtonContent = _this$props3.editButtonContent,\n          viewContainerClassName = _this$props3.viewContainerClassName,\n          hideIcons = _this$props3.hideIcons,\n          buttonsAlign = _this$props3.buttonsAlign; // calculate edit button classes\n\n      var editButtonDefaultClasses = classnames(\"\".concat(styles.Editext__button), \"\".concat(styles.Editext__edit_button), hideIcons && \"\".concat(styles.Editext__hide_default_icons));\n      var editButtonClass = editButtonClassName || editButtonDefaultClasses;\n      var viewContainerClass = viewContainerClassName || styles.Editext__view_container;\n      var buttonsContainerClass = classnames(styles.Editext__buttons_container, buttonsAlign === 'before' && \"\".concat(styles.Editext__buttons_before_aligned), buttonsAlign === 'after' && \"\".concat(styles.Editext__buttons_after_aligned));\n      return React.createElement(\"div\", {\n        className: viewContainerClass\n      }, buttonsAlign === 'after' && React.createElement(\"div\", viewProps, _this.state.value), React.createElement(\"div\", {\n        className: buttonsContainerClass\n      }, React.createElement(\"button\", {\n        ref: _this.editButton,\n        type: \"button\",\n        className: editButtonClass,\n        onClick: _this._activateEditMode\n      }, editButtonContent)), buttonsAlign === 'before' && React.createElement(\"div\", viewProps, _this.state.value));\n    });\n\n    _this.state = {\n      editing: false,\n      valid: true,\n      value: props.value || '',\n      savedValue: ''\n    };\n    _this.editButton = React.createRef();\n    _this.saveButton = React.createRef();\n    _this.cancelButton = React.createRef();\n    _this.input = React.createRef();\n    return _this;\n  }\n\n  _createClass(EdiText, [{\n    key: \"_renderInput\",\n    value: function _renderInput() {\n      if (this.props.type === 'textarea') {\n        return React.createElement(\"textarea\", _extends({\n          ref: this.input,\n          className: styles.Editext__input\n        }, this.props.inputProps, {\n          value: this.state.value,\n          onChange: this._onInputChange,\n          autoFocus: this.state.editing\n        }));\n      } else {\n        return React.createElement(\"input\", _extends({\n          ref: this.input,\n          className: styles.Editext__input\n        }, this.props.inputProps, {\n          value: this.state.value,\n          type: this.props.type,\n          onChange: this._onInputChange,\n          autoFocus: this.state.editing\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mode = this.state.editing ? this._renderEditingMode() : this._renderViewMode();\n      var mainContainerClass = this.props.mainContainerClassName || styles.Editext__main_container;\n      return React.createElement(\"div\", {\n        className: mainContainerClass\n      }, mode);\n    }\n  }]);\n\n  return EdiText;\n}(Component);\n\nEdiText.defaultProps = {\n  value: '',\n  type: 'text',\n  validationMessage: 'Invalid Value',\n  validation: function validation(value) {\n    return true;\n  },\n  onCancel: function onCancel() {},\n  cancelButtonContent: '',\n  saveButtonContent: '',\n  editButtonContent: '',\n  hideIcons: false,\n  buttonsAlign: 'after'\n};\nEdiText.propTypes = {\n  inputProps: PropTypes.object,\n  viewProps: PropTypes.object,\n  value: PropTypes.string.isRequired,\n  hint: PropTypes.node,\n  validationMessage: PropTypes.string,\n  validation: PropTypes.func,\n  onValidationFail: PropTypes.func,\n  type: PropTypes.oneOf(['text', 'textarea', 'email', 'number', 'date', 'datetime-local', 'time', 'month', 'url', 'week', 'tel']).isRequired,\n  // Events\n  onCancel: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  // classNames\n  saveButtonClassName: PropTypes.string,\n  editButtonClassName: PropTypes.string,\n  cancelButtonClassName: PropTypes.string,\n  mainContainerClassName: PropTypes.string,\n  editContainerClassName: PropTypes.string,\n  viewContainerClassName: PropTypes.string,\n  // Custom Button Texts\n  cancelButtonContent: PropTypes.any,\n  saveButtonContent: PropTypes.any,\n  editButtonContent: PropTypes.any,\n  hideIcons: PropTypes.bool,\n  buttonsAlign: PropTypes.oneOf(['after', 'before'])\n};\nexport default EdiText;","map":null,"metadata":{},"sourceType":"module"}