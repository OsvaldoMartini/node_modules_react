{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projetos\\\\PPMTool-React-Client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Dashboard from \"./components/Dashboard\";\nimport Header from \"./components/Layout/Header\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AddProject from \"./components/Project/AddProject\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport UpdateProject from \"./components/Project/UpdateProject\";\nimport ProjectBoard from \"./components/ProjectBoard/ProjectBoard\";\nimport AddProjectTask from \"./components/ProjectBoard/ProjectTasks/AddProjectTask\";\nimport UpdateProjectTask from \"./components/ProjectBoard/ProjectTasks/UpdateProjectTask\";\nimport Landing from \"./components/Layout/Landing\";\nimport Register from \"./components/UserManagement/Register\";\nimport Login from \"./components/UserManagement/Login\";\nimport jwt_decode from \"jwt-decode\";\nimport { setJWTToken, setJWTTokenCandidate } from \"./securityUtils/setJWTToken\";\nimport { SET_CURRENT_USER } from \"./actions/types\";\nimport { logout } from \"./actions/securityActions\";\nimport SecuredRoute from \"./securityUtils/SecureRoute\";\nimport AllProfiles from \"./components/ProfileCV/AllProfiles\";\nimport AddProfile from \"./components/ProfileCV/AddProfile\";\nimport UpdateProfile from \"./components/ProfileCV/UpdateProfile\";\nimport EditCV from \"./components/ProfileCV/EditCV\";\nimport Home from \"./components/Layout/Home\";\nconst jwtToken = localStorage.jwtToken;\nconst jwtTokenCandidate = localStorage.jwtTokenCandidate;\n\nif (jwtToken) {\n  setJWTToken(jwtToken);\n}\n\nif (jwtTokenCandidate) {\n  setJWTTokenCandidate(jwtTokenCandidate);\n}\n\nif (jwtToken || jwtTokenCandidate) {\n  const token = jwtToken || jwtTokenCandidate;\n  const decoded_jwtToken = jwt_decode(token); //Only for Normal jwtToken\n\n  if (jwtToken) {\n    store.dispatch({\n      type: SET_CURRENT_USER,\n      payload: decoded_jwtToken\n    });\n  }\n\n  const currentTime = Date.now() / 1000;\n\n  if (decoded_jwtToken.exp < currentTime) {\n    store.dispatch(logout());\n    window.location.href = \"/\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return React.createElement(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Landing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profile/editcv/:id\",\n      component: EditCV,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/dashboard\",\n      component: Dashboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/addProject\",\n      component: AddProject,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/profiles\",\n      component: AllProfiles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/addProfile\",\n      component: AddProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/home\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/updateProfile/:id\",\n      component: UpdateProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/updateProject/:id\",\n      component: UpdateProject,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/projectBoard/:id\",\n      component: ProjectBoard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/addProjectTask/:id\",\n      component: AddProjectTask,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(SecuredRoute, {\n      exact: true,\n      path: \"/updateProjectTask/:backlog_id/:pt_id\",\n      component: UpdateProjectTask,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:\\Projetos\\PPMTool-React-Client\\src\\App.js"],"names":["React","Component","Dashboard","Header","BrowserRouter","Router","Route","Switch","AddProject","Provider","store","UpdateProject","ProjectBoard","AddProjectTask","UpdateProjectTask","Landing","Register","Login","jwt_decode","setJWTToken","setJWTTokenCandidate","SET_CURRENT_USER","logout","SecuredRoute","AllProfiles","AddProfile","UpdateProfile","EditCV","Home","jwtToken","localStorage","jwtTokenCandidate","token","decoded_jwtToken","dispatch","type","payload","currentTime","Date","now","exp","window","location","href","App","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAO,sCAAP;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,QAAuD,kBAAvD;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,aAAP,MAA0B,oCAA1B;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,cAAP,MAA2B,uDAA3B;AACA,OAAOC,iBAAP,MAA8B,0DAA9B;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,QAAP,MAAqB,sCAArB;AACA,OAAOC,KAAP,MAAkB,mCAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,6BAAlD;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,MAAT,QAAuB,2BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AAEA,MAAMC,QAAQ,GAAGC,YAAY,CAACD,QAA9B;AACA,MAAME,iBAAiB,GAAGD,YAAY,CAACC,iBAAvC;;AAEA,IAAIF,QAAJ,EAAc;AACZV,EAAAA,WAAW,CAACU,QAAD,CAAX;AACD;;AAED,IAAIE,iBAAJ,EAAuB;AACrBX,EAAAA,oBAAoB,CAACW,iBAAD,CAApB;AACD;;AAED,IAAIF,QAAQ,IAAIE,iBAAhB,EAAmC;AACjC,QAAMC,KAAK,GAAGH,QAAQ,IAAIE,iBAA1B;AACA,QAAME,gBAAgB,GAAGf,UAAU,CAACc,KAAD,CAAnC,CAFiC,CAIjC;;AACA,MAAIH,QAAJ,EAAc;AACZnB,IAAAA,KAAK,CAACwB,QAAN,CAAe;AACbC,MAAAA,IAAI,EAAEd,gBADO;AAEbe,MAAAA,OAAO,EAAEH;AAFI,KAAf;AAID;;AAED,QAAMI,WAAW,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAjC;;AACA,MAAIN,gBAAgB,CAACO,GAAjB,GAAuBH,WAA3B,EAAwC;AACtC3B,IAAAA,KAAK,CAACwB,QAAN,CAAeZ,MAAM,EAArB;AACAmB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD;AACF;;AAED,MAAMC,GAAN,SAAkB3C,SAAlB,CAA4B;AAC1B4C,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAEnC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAsB,MAAA,SAAS,EAAEK,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAOE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,WAAlB;AAA8B,MAAA,SAAS,EAAEC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAQE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,QAAlB;AAA2B,MAAA,SAAS,EAAEC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EASE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,qBAAlB;AAAwC,MAAA,SAAS,EAAEU,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAcE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAoB,MAAA,IAAI,EAAC,YAAzB;AAAsC,MAAA,SAAS,EAAEzB,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAoB,MAAA,IAAI,EAAC,aAAzB;AAAuC,MAAA,SAAS,EAAEM,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAoB,MAAA,IAAI,EAAC,WAAzB;AAAqC,MAAA,SAAS,EAAEgB,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAoB,MAAA,IAAI,EAAC,aAAzB;AAAuC,MAAA,SAAS,EAAEC,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAoB,MAAA,IAAI,EAAC,OAAzB;AAAiC,MAAA,SAAS,EAAEG,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,oBAFP;AAGE,MAAA,SAAS,EAAEF,aAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAWE,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,oBAFP;AAGE,MAAA,SAAS,EAAEf,aAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAgBE,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,mBAFP;AAGE,MAAA,SAAS,EAAEC,YAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,EAqBE,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,qBAFP;AAGE,MAAA,SAAS,EAAEC,cAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EA0BE,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,uCAFP;AAGE,MAAA,SAAS,EAAEC,iBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1BF,CAdF,CADF,CADF,CADF;AAqDD;;AAvDyB;;AA0D5B,eAAe8B,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Header from \"./components/Layout/Header\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport AddProject from \"./components/Project/AddProject\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport UpdateProject from \"./components/Project/UpdateProject\";\r\nimport ProjectBoard from \"./components/ProjectBoard/ProjectBoard\";\r\nimport AddProjectTask from \"./components/ProjectBoard/ProjectTasks/AddProjectTask\";\r\nimport UpdateProjectTask from \"./components/ProjectBoard/ProjectTasks/UpdateProjectTask\";\r\nimport Landing from \"./components/Layout/Landing\";\r\nimport Register from \"./components/UserManagement/Register\";\r\nimport Login from \"./components/UserManagement/Login\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { setJWTToken, setJWTTokenCandidate } from \"./securityUtils/setJWTToken\";\r\nimport { SET_CURRENT_USER } from \"./actions/types\";\r\nimport { logout } from \"./actions/securityActions\";\r\nimport SecuredRoute from \"./securityUtils/SecureRoute\";\r\nimport AllProfiles from \"./components/ProfileCV/AllProfiles\";\r\nimport AddProfile from \"./components/ProfileCV/AddProfile\";\r\nimport UpdateProfile from \"./components/ProfileCV/UpdateProfile\";\r\nimport EditCV from \"./components/ProfileCV/EditCV\";\r\nimport Home from \"./components/Layout/Home\";\r\n\r\nconst jwtToken = localStorage.jwtToken;\r\nconst jwtTokenCandidate = localStorage.jwtTokenCandidate;\r\n\r\nif (jwtToken) {\r\n  setJWTToken(jwtToken);\r\n}\r\n\r\nif (jwtTokenCandidate) {\r\n  setJWTTokenCandidate(jwtTokenCandidate);\r\n}\r\n\r\nif (jwtToken || jwtTokenCandidate) {\r\n  const token = jwtToken || jwtTokenCandidate;\r\n  const decoded_jwtToken = jwt_decode(token);\r\n\r\n  //Only for Normal jwtToken\r\n  if (jwtToken) {\r\n    store.dispatch({\r\n      type: SET_CURRENT_USER,\r\n      payload: decoded_jwtToken\r\n    });\r\n  }\r\n\r\n  const currentTime = Date.now() / 1000;\r\n  if (decoded_jwtToken.exp < currentTime) {\r\n    store.dispatch(logout());\r\n    window.location.href = \"/\";\r\n  }\r\n}\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Header />\r\n            {\r\n              //Public Routes\r\n            }\r\n\r\n            <Route exact path=\"/\" component={Landing} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/profile/editcv/:id\" component={EditCV} />\r\n\r\n            {\r\n              //Private Routes\r\n            }\r\n            <Switch>\r\n              <SecuredRoute exact path=\"/dashboard\" component={Dashboard} />\r\n              <SecuredRoute exact path=\"/addProject\" component={AddProject} />\r\n              <SecuredRoute exact path=\"/profiles\" component={AllProfiles} />\r\n              <SecuredRoute exact path=\"/addProfile\" component={AddProfile} />\r\n              <SecuredRoute exact path=\"/home\" component={Home} />\r\n              <SecuredRoute\r\n                exact\r\n                path=\"/updateProfile/:id\"\r\n                component={UpdateProfile}\r\n              />\r\n              <SecuredRoute\r\n                exact\r\n                path=\"/updateProject/:id\"\r\n                component={UpdateProject}\r\n              />\r\n              <SecuredRoute\r\n                exact\r\n                path=\"/projectBoard/:id\"\r\n                component={ProjectBoard}\r\n              />\r\n              <SecuredRoute\r\n                exact\r\n                path=\"/addProjectTask/:id\"\r\n                component={AddProjectTask}\r\n              />\r\n              <SecuredRoute\r\n                exact\r\n                path=\"/updateProjectTask/:backlog_id/:pt_id\"\r\n                component={UpdateProjectTask}\r\n              />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}