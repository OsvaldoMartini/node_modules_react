{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeAllListeners = exports.removeListener = exports.addListener = exports.getListeners = exports.config = exports.chalk = exports.mainStory = undefined;\n\nvar _storyboardCore = require('storyboard-core');\n\n_storyboardCore.hub.init({\n  mainStory: _storyboardCore.mainStory\n});\n/*!\n * Storyboard\n *\n * End-to-end, hierarchical, real-time, colorful logs and stories\n *\n * @copyright Guillermo Grau Panea 2016\n * @license MIT\n */\n// Chalk is disabled by default in the browser. Override\n// this default (we'll handle ANSI code conversion ourselves\n// when needed)\n\n\n_storyboardCore.filters.init({\n  mainStory: _storyboardCore.mainStory\n});\n\nvar config = function config() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  Object.keys(options).forEach(function (key) {\n    var val = options[key];\n\n    switch (key) {\n      case 'filter':\n        _storyboardCore.filters.config(val);\n\n        break;\n\n      case 'onChangeFilter':\n        _storyboardCore.filters.setOnChangeFilter(val);\n\n        break;\n\n      case 'bufSize':\n        _storyboardCore.hub.configure({\n          bufSize: val\n        });\n\n        break;\n\n      /* istanbul ignore next */\n\n      default:\n        break;\n    }\n  });\n};\n\nvar gracefulExit = function gracefulExit() {\n  _storyboardCore.mainStory.close();\n\n  _storyboardCore.hub.removeAllListeners();\n};\n/* istanbul ignore next */\n\n\ntry {\n  /* eslint-disable no-undef */\n  window.addEventListener('beforeunload', gracefulExit);\n  /* eslint-enable no-undef */\n} catch (err) {\n  /* ignore */\n}\n\ntry {\n  process.on('exit', gracefulExit);\n} catch (err) {}\n/* ignore */\n// -------------------------------------\n// API\n// -------------------------------------\n\n\nvar getListeners = _storyboardCore.hub.getListeners,\n    addListener = _storyboardCore.hub.addListener,\n    removeListener = _storyboardCore.hub.removeListener,\n    removeAllListeners = _storyboardCore.hub.removeAllListeners;\nexports.mainStory = _storyboardCore.mainStory;\nexports.chalk = _storyboardCore.chalk;\nexports.config = config;\nexports.getListeners = getListeners;\nexports.addListener = addListener;\nexports.removeListener = removeListener;\nexports.removeAllListeners = removeAllListeners;","map":null,"metadata":{},"sourceType":"script"}