{"ast":null,"code":"'use strict';\n\nconst u = require('universalify').fromCallback;\n\nconst fs = require('graceful-fs');\n\nconst path = require('path');\n\nconst mkdir = require('../mkdirs');\n\nconst pathExists = require('../path-exists').pathExists;\n\nfunction outputFile(file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding;\n    encoding = 'utf8';\n  }\n\n  const dir = path.dirname(file);\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err);\n    if (itDoes) return fs.writeFile(file, data, encoding, callback);\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err);\n      fs.writeFile(file, data, encoding, callback);\n    });\n  });\n}\n\nfunction outputFileSync(file, data, encoding) {\n  const dir = path.dirname(file);\n\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync.apply(fs, arguments);\n  }\n\n  mkdir.mkdirsSync(dir);\n  fs.writeFileSync.apply(fs, arguments);\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n};","map":null,"metadata":{},"sourceType":"script"}